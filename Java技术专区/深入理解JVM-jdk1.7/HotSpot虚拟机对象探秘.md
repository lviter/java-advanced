### HotSpot虚拟机对象探秘
如何创建 、如何布局、以及如何访问
#### 对象创建流程
1. 虚拟机遇到一个new指令时，首先去检查指令的参数是否能在常量池中定位到一个类的符号引用，并且检查这个符号引用代表的类是否已经被加载、解析和初始化过。
2. 类加载检查后，虚拟机将为新生对象分配内存（对象所需内存的大小在类加载完成后便可完全确定），为对象分配空间的任务等于把一块确定大小的内存从堆内划分出来。
3. - 假设堆中内存规整，所有用过的内存放一边，空闲的内存放另一边，中间放着一个指针作为分界点的指示器，那分配内存就仅仅是把***指针向空闲空间那边挪动一段与对象大小相等的距离***，这种分配方式称为--指针碰撞（Bump the Pointer）
   - 如果堆内存不规整，已使用的内存和空闲内存相互交错，那就没办法进行简单的碰撞了，虚拟机就必须维护一个列表，记录哪块内存可用，分配的时候从列表中找到一块足够大的空间划分给对象实例，并更新表上的记录，这种分配方式称为--空闲列表（Free List）
4. 选择哪种分配方式由Java堆是否规整决定，Java堆是否规整由所用的垃圾收集器是否带有压缩整理功能决定。因此，在使用Serial、ParNew等带Compact过程的收集器时，系统采用的分配算法是指针碰撞，而使用CMS这种基于Mark-Sweep算法的收集器时，通常采用空闲列表。
5. 对象创建在虚拟机中是非常频繁的行为，